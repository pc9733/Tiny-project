<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Company Opportunities — by Location</title>
  <link rel="stylesheet" href="assets/style.css"/>
</head>
<body>
  <header class="topbar">
    <h1 id="title">Company Opportunities</h1>
    <nav class="nav">
      <a href="index.html">All</a>
      <a href="locations.html?loc=Gurgaon">Gurgaon</a>
      <a href="locations.html?loc=Gurugram">Gurugram</a>
      <a href="locations.html?loc=Noida">Noida</a>
      <a href="locations.html?loc=Remote">Remote</a>
    </nav>
  </header>

  <main class="container">
    <div class="toolbar">
      <input id="search" class="search" placeholder="Search companies or URL…"/>
      <button class="btn primary" id="addBtn">+ Add Company</button>
      <button class="btn" id="exportBtn">Export</button>
      <label class="btn" for="importFile">Import</label>
      <input type="file" id="importFile" accept="application/json" hidden>
    </div>

    <section class="card">
      <table id="table">
        <thead>
        <tr>
          <th style="width:34%">Company</th>
          <th style="width:18%">Location</th>
          <th>Careers URL</th>
          <th style="width:180px">Actions</th>
        </tr>
        </thead>
        <tbody id="tbody">
        <tr><td class="empty" colspan="4">Loading…</td></tr>
        </tbody>
      </table>
    </section>

    <p class="muted tip">
      Viewing a filtered list. Use the navigation to switch locations or go back to All.
    </p>
  </main>

  <!-- Modal reused -->
  <dialog id="modal">
    <form method="dialog" class="modal">
      <h3 id="modalTitle">Add Company</h3>
      <div class="grid grid-2">
        <div>
          <label>Company</label>
          <input id="fCompany" type="text" required/>
        </div>
        <div>
          <label>Location</label>
          <select id="fLocation" required>
            <option value="">Select</option>
            <option>Gurgaon</option>
            <option>Gurugram</option>
            <option>Noida</option>
            <option>Remote</option>
          </select>
        </div>
        <div class="grid" style="grid-column:1/-1">
          <label>Careers URL</label>
          <input id="fUrl" type="text" required/>
        </div>
      </div>
      <div class="row">
        <button class="btn" value="cancel">Cancel</button>
        <button class="btn primary" id="saveBtn" value="default">Save</button>
      </div>
      <input type="hidden" id="fId"/>
    </form>
  </dialog>

  <script src="assets/app.js"></script>
  <script>
    const params = new URLSearchParams(location.search);
    const loc = params.get("loc") || "Gurgaon";
    document.getElementById("title").textContent = `Company Opportunities — ${loc}`;
    App.mount({ mode: "filtered", location: loc });
  </script>
</body>
</html>
